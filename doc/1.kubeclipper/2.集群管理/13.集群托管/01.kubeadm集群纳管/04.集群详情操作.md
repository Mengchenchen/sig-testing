##### 集群详情操作

1. 备份恢复

|||
| ---- | ---- |
| 编号 | 集群管理-集群-纳管集群详情-备份恢复-1 |
| 测试点 | 1. 纳管集群的备份恢复 |
| 预置条件 | 1. 已纳管 kubeadm 集群\
2、已在集群中添加备份点 |
| 步骤 | 1.点击纳管集群名称-更多-备份集群 \
2. 点击集群管理-纳管集群名称-备份 \
3. 选择一个备份-更多-恢复|
| 预期结果 | 1. 步骤1中，弹出备份集群页面，输入备份名称，点击确定\
2. 步骤2中，显示该集群下所有备份\
3. 步骤3中，弹出恢复页面，点击确定，备份状态显示“恢复中”，等待数分钟后状态正常|

2. 添加存储项

|||
| ---- | ---- |
| 编号 | 集群管理-集群-纳管集群详情-添加存储项-2 |
| 测试点 | 1. 纳管集群的添加存储项 |
| 预置条件 | 1. 已纳管 kubeadm 集群\
2、已有可用的存储项 |
| 步骤 | 1.点击纳管集群名称-更多-添加存储项 \
2. 输入存储项信息，点击确认 |
| 预期结果 | 1. 步骤1中，跳转到添加存储项页面\
2. 步骤2中，存储添加成功，集群状态显示“更新中”|

3. 访问kubectl

|||
| ---- | ---- |
| 编号 | 集群管理-集群托管-提供商-访问kubectl-3 |
| 测试点 | 1. 纳管集群访问kubectl |
| 预置条件 | 1. 已纳管 kubeadm 集群\
2. 已运行执行终端命令的 pod |
| 步骤 | 1.点击纳管集群名称-更多-访问kubectl \
2. 在终端中执行命令kubectl get po -A |
| 预期结果 | 1. 步骤1中，跳转到终端页面\
2. 步骤2中，可以在终端中成功得到返回 |

4. 更新集群证书

|||
| ---- | ---- |
| 编号 | 集群管理-集群托管-提供商-更新集群证书-4 |
| 测试点 | 1. 纳管集群更新集群证书 |
| 预置条件 | 1. 已纳管 kubeadm 集群 |
| 步骤 | 1.点击纳管集群名称-更多-证书管理-更新集群证书 \
2. 等待集群状态变为运行中，点击集群名称进入集群详情 |
| 预期结果 | 1. 步骤1中，跳转到集群证书页面，确认后集群状态为“更新中”\
2. 步骤2中，证书过期时间被更新为一年后的当前时间 |

5. 查看kubeconfig文件

|||
| ---- | ---- |
| 编号 | 集群管理-集群托管-提供商-查看kubeconfig文件-5 |
| 测试点 | 1. 纳管集群查看kubeconfig文件 |
| 预置条件 | 1. 已纳管 kubeadm 集群 |
| 步骤 | 1.点击纳管集群名称-更多-证书管理-查看kubeconfig文件 |
| 预期结果 | 1. 步骤1中，可以正常显示集群的kubeconfig文件 |

6. 添加节点

|||
| ---- | ---- |
| 编号 | 集群管理-集群托管-提供商-添加节点-6 |
| 测试点 | 1. 纳管集群添加节点 |
| 预置条件 | 1. 已纳管 kubeadm 集群\
2.存在一个空闲节点 |
| 步骤 | 1.点击纳管集群名称-更多-节点管理-添加节点\
2. 勾选空闲节点添加到worker节点中|
| 预期结果 | 1. 步骤1中，弹出添加节点页面\
2.步骤2中，集群状态为“更新中”，数分钟后节点添加成功，集群状态为“运行中” |

7. 移除节点

|||
| ---- | ---- |
| 编号 | 集群管理-集群托管-提供商-移除节点-7 |
| 测试点 | 1. 纳管集群移除节点 |
| 预置条件 | 1. 已纳管 kubeadm 集群，且集群中存在两个节点 |
| 步骤 | 1.点击纳管集群名称-更多-节点管理-移除节点\
2. 勾选worker节点将其移除|
| 预期结果 | 1. 步骤1中，弹出移除节点页面\
2.步骤2中，集群状态为“更新中”，数分钟后节点移除成功，集群状态为“运行中” |